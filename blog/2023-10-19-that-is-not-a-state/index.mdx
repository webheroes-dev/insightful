---
slug: that-is-not-a-state
title: That's not a state (anymore)
authors: [krystian, barbie]
tags: [react, state]
draft: true
---

Handle state properly

## DRAFT
- common mistakes
    - synchronizing on event
- derive from props
- derive from state
- derive from url
- opened tab id from url


<!--truncate-->

# problem: need to combine props together

common mistake: synchronizing with use of `useEffect` and `useState`

```tsx showLineNumbers
interface Props {
    firstName: string
    lastName: string
}
function Component(props: Props) {
    const {firstName, lastName} = props

    const [fullName, setFullName] = useState()

    useEffect(() => {
        setFullName(`${firstName} ${lastName}`)
    }, [firstName, lastName])
}
```

solution: derive value from props

```tsx showLineNumbers
interface Props {
    firstName: string
    lastName: string
}
function Component(props: Props) {
    const {firstName, lastName} = props

    // highlight-next-line
    const fullName = `${firstName} ${lastName}` // ✨
}
```

# problem: need to combine states

common mistake: synchronizing with use of `useEffect` and extra `useState`


```tsx showLineNumbers
function Component() {
    const [firstName, setFirstName] = useState()
    const [lastName, setLastName] = useState()

    const [fullName, setFullName] = useState()

    useEffect(() => {
        setFullName(`${firstName} ${lastName}`)
    }, [firstName, lastName])
}
```

solution: derive from current state

```tsx showLineNumbers
function Component() {
    const [firstName, setFirstName] = useState()
    const [lastName, setLastName] = useState()

    // highlight-next-line
    const fullName = `${firstName} ${lastName}` // ✨
}
```

# problem: filter data or perform search

common mistake #1: introduced complexity with _context_

```tsx showLineNumbers
const FilterContext = React.createContext()

function useFilter() {
    const filter = React.useContext(FilterContext)

    return filter
}

function Page() {
    const [filter, setFilter] = useState()

    return (
        <FilterContext.Provider value={filter}>
            <Filter onChange={(filter) => setFilter(filter)}>
            
        </FilterContext.Provider>
    )
}

```
